<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ä»€ä¹ˆå€¼å¾—åšæ™ºèƒ½ä½“ - æ¼”ç¤ºé¡µé¢</title>
  <style>
    body {
      margin: 0;
      padding: 20px;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
      background-color: #f5f7fa;
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
    }
    
    .header {
      text-align: center;
      margin-bottom: 40px;
    }
    
    .header h1 {
      color: #303133;
      margin-bottom: 8px;
    }
    
    .header p {
      color: #606266;
      font-size: 16px;
    }
    
    .demo-section {
      background: white;
      border-radius: 8px;
      padding: 20px;
      box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);
      margin-bottom: 20px;
    }
    
    .integration-guide {
      background: white;
      border-radius: 8px;
      padding: 20px;
      box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);
    }
    
    .integration-guide h3 {
      color: #303133;
      margin-top: 0;
    }
    
    .code-block {
      background: #f8f9fa;
      border: 1px solid #e9ecef;
      border-radius: 4px;
      padding: 16px;
      margin: 12px 0;
      overflow-x: auto;
    }
    
    .code-block code {
      font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
      font-size: 14px;
      line-height: 1.5;
    }
    
    .token-input {
      margin-bottom: 20px;
    }
    
    .token-input label {
      display: block;
      margin-bottom: 8px;
      font-weight: 600;
      color: #303133;
    }
    
    .token-input input {
      width: 100%;
      padding: 8px 12px;
      border: 1px solid #dcdfe6;
      border-radius: 4px;
      font-size: 14px;
    }
    
    .token-input input:focus {
      outline: none;
      border-color: #409eff;
    }
    
    .btn {
      background: #409eff;
      color: white;
      border: none;
      padding: 8px 16px;
      border-radius: 4px;
      cursor: pointer;
      font-size: 14px;
    }
    
    .btn:hover {
      background: #337ecc;
    }
    
    .status {
      margin-top: 12px;
      padding: 8px 12px;
      border-radius: 4px;
      font-size: 14px;
    }
    
    .status.success {
      background: #f0f9ff;
      color: #067f00;
      border: 1px solid #b3d8ff;
    }
    
    .status.error {
      background: #fef0f0;
      color: #f56c6c;
      border: 1px solid #fbc4c4;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>ğŸ¯ ä»€ä¹ˆå€¼å¾—åšæ™ºèƒ½ä½“</h1>
      <p>ä¸ºè‡ªå¡¾å¹³å°æä¾›ä¸ªæ€§åŒ–æ¨èæœåŠ¡ï¼Œå¸®åŠ©å¡¾å‘˜å¿«é€Ÿæ‰¾åˆ°æœ€å€¼å¾—åšçš„äº‹æƒ…</p>
    </div>

    <div class="demo-section">
      <h3>æ¨èç»„ä»¶æ¼”ç¤º</h3>
      <div class="token-input">
        <label for="token">è¯·è¾“å…¥æ‚¨çš„è®¤è¯tokenï¼š</label>
        <input 
          type="text" 
          id="token" 
          placeholder="è¯·è¾“å…¥ä» https://zishu.co è·å–çš„ atoken"
          value=""
        >
        <button class="btn" onclick="setToken()">è®¾ç½®Token</button>
        <div id="token-status" class="status" style="display: none;"></div>
      </div>
      
      <!-- è¿™é‡Œä¼šæ¸²æŸ“æ¨èç»„ä»¶ -->
      <div id="app"></div>
    </div>

    <div class="integration-guide">
      <h3>é›†æˆæŒ‡å—</h3>
      
      <h4>1. å®‰è£…ä¾èµ–</h4>
      <div class="code-block">
        <code>npm install what-to-do-agent-frontend</code>
      </div>

      <h4>2. åœ¨Vueé¡¹ç›®ä¸­ä½¿ç”¨</h4>
      <div class="code-block">
        <code>&lt;template&gt;
  &lt;div&gt;
    &lt;!-- å…¶ä»–é¡µé¢å†…å®¹ --&gt;
    
    &lt;!-- æ’å…¥æ¨èå¡ç‰‡ç»„ä»¶ --&gt;
    &lt;RecommendationCard /&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
import RecommendationCard from 'what-to-do-agent-frontend'
&lt;/script&gt;</code>
      </div>

      <h4>3. åœ¨è‡ªå¡¾å®˜ç½‘ä¸­é›†æˆ</h4>
      <div class="code-block">
        <code>// åœ¨ zishu/frontend/src/views/Home.vue ä¸­æ·»åŠ 
&lt;template&gt;
  &lt;Layout&gt;
    &lt;Header2 /&gt;
    &lt;Main /&gt;
    
    &lt;!-- æ·»åŠ æ¨èå¡ç‰‡ --&gt;
    &lt;RecommendationCard v-if="userStore.isLoggedIn" /&gt;
    
    &lt;Footer /&gt;
  &lt;/Layout&gt;
&lt;/template&gt;</code>
      </div>

      <h4>4. APIé…ç½®</h4>
      <div class="code-block">
        <code>// åç«¯æœåŠ¡åœ°å€é…ç½®
const API_BASE_URL = 'http://localhost:8080/api/v1'

// æ¨èæœåŠ¡éƒ¨ç½²åçš„åœ°å€
const PROD_API_URL = 'https://your-domain.com/what-to-do-api/v1'</code>
      </div>

      <h4>5. å¯åŠ¨æœåŠ¡</h4>
      <div class="code-block">
        <code># å¯åŠ¨åç«¯æ¨èæœåŠ¡
cd what-to-do-agent/backend
pip install -r requirements.txt
uvicorn app.main:app --host 0.0.0.0 --port 8080

# å‰ç«¯å¼€å‘æ¨¡å¼
cd what-to-do-agent/frontend  
npm install
npm run dev</code>
      </div>
    </div>
  </div>

  <script>
    function setToken() {
      const tokenInput = document.getElementById('token');
      const statusDiv = document.getElementById('token-status');
      const token = tokenInput.value.trim();
      
      if (!token) {
        showStatus('è¯·è¾“å…¥æœ‰æ•ˆçš„token', 'error');
        return;
      }
      
      // ä¿å­˜tokenåˆ°localStorage
      localStorage.setItem('zishu_token', token);
      showStatus('Tokenè®¾ç½®æˆåŠŸï¼æ¨èç»„ä»¶å°†ä½¿ç”¨æ­¤tokenè·å–æ•°æ®', 'success');
      
      // è¿™é‡Œå¯ä»¥è§¦å‘æ¨èç»„ä»¶é‡æ–°åŠ è½½
      console.log('Tokenå·²è®¾ç½®:', token);
    }
    
    function showStatus(message, type) {
      const statusDiv = document.getElementById('token-status');
      statusDiv.textContent = message;
      statusDiv.className = `status ${type}`;
      statusDiv.style.display = 'block';
      
      if (type === 'success') {
        setTimeout(() => {
          statusDiv.style.display = 'none';
        }, 3000);
      }
    }

    // é¡µé¢åŠ è½½æ—¶æ£€æŸ¥æ˜¯å¦å·²æœ‰token
    window.onload = function() {
      const existingToken = localStorage.getItem('zishu_token');
      if (existingToken) {
        document.getElementById('token').value = existingToken;
        showStatus('å·²æ£€æµ‹åˆ°å·²ä¿å­˜çš„token', 'success');
      }
    };
  </script>
</body>
</html>