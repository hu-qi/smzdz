<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>什么值得做智能体 - 演示页面</title>
  <style>
    body {
      margin: 0;
      padding: 20px;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
      background-color: #f5f7fa;
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
    }
    
    .header {
      text-align: center;
      margin-bottom: 40px;
    }
    
    .header h1 {
      color: #303133;
      margin-bottom: 8px;
    }
    
    .header p {
      color: #606266;
      font-size: 16px;
    }
    
    .demo-section {
      background: white;
      border-radius: 8px;
      padding: 20px;
      box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);
      margin-bottom: 20px;
    }
    
    .integration-guide {
      background: white;
      border-radius: 8px;
      padding: 20px;
      box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);
    }
    
    .integration-guide h3 {
      color: #303133;
      margin-top: 0;
    }
    
    .code-block {
      background: #f8f9fa;
      border: 1px solid #e9ecef;
      border-radius: 4px;
      padding: 16px;
      margin: 12px 0;
      overflow-x: auto;
    }
    
    .code-block code {
      font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
      font-size: 14px;
      line-height: 1.5;
    }
    
    .token-input {
      margin-bottom: 20px;
    }
    
    .token-input label {
      display: block;
      margin-bottom: 8px;
      font-weight: 600;
      color: #303133;
    }
    
    .token-input input {
      width: 100%;
      padding: 8px 12px;
      border: 1px solid #dcdfe6;
      border-radius: 4px;
      font-size: 14px;
    }
    
    .token-input input:focus {
      outline: none;
      border-color: #409eff;
    }
    
    .btn {
      background: #409eff;
      color: white;
      border: none;
      padding: 8px 16px;
      border-radius: 4px;
      cursor: pointer;
      font-size: 14px;
    }
    
    .btn:hover {
      background: #337ecc;
    }
    
    .status {
      margin-top: 12px;
      padding: 8px 12px;
      border-radius: 4px;
      font-size: 14px;
    }
    
    .status.success {
      background: #f0f9ff;
      color: #067f00;
      border: 1px solid #b3d8ff;
    }
    
    .status.error {
      background: #fef0f0;
      color: #f56c6c;
      border: 1px solid #fbc4c4;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>🎯 什么值得做智能体</h1>
      <p>为自塾平台提供个性化推荐服务，帮助塾员快速找到最值得做的事情</p>
    </div>

    <div class="demo-section">
      <h3>推荐组件演示</h3>
      <div class="token-input">
        <label for="token">请输入您的认证token：</label>
        <input 
          type="text" 
          id="token" 
          placeholder="请输入从 https://zishu.co 获取的 atoken"
          value=""
        >
        <button class="btn" onclick="setToken()">设置Token</button>
        <div id="token-status" class="status" style="display: none;"></div>
      </div>
      
      <!-- 这里会渲染推荐组件 -->
      <div id="app"></div>
    </div>

    <div class="integration-guide">
      <h3>集成指南</h3>
      
      <h4>1. 安装依赖</h4>
      <div class="code-block">
        <code>npm install what-to-do-agent-frontend</code>
      </div>

      <h4>2. 在Vue项目中使用</h4>
      <div class="code-block">
        <code>&lt;template&gt;
  &lt;div&gt;
    &lt;!-- 其他页面内容 --&gt;
    
    &lt;!-- 插入推荐卡片组件 --&gt;
    &lt;RecommendationCard /&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
import RecommendationCard from 'what-to-do-agent-frontend'
&lt;/script&gt;</code>
      </div>

      <h4>3. 在自塾官网中集成</h4>
      <div class="code-block">
        <code>// 在 zishu/frontend/src/views/Home.vue 中添加
&lt;template&gt;
  &lt;Layout&gt;
    &lt;Header2 /&gt;
    &lt;Main /&gt;
    
    &lt;!-- 添加推荐卡片 --&gt;
    &lt;RecommendationCard v-if="userStore.isLoggedIn" /&gt;
    
    &lt;Footer /&gt;
  &lt;/Layout&gt;
&lt;/template&gt;</code>
      </div>

      <h4>4. API配置</h4>
      <div class="code-block">
        <code>// 后端服务地址配置
const API_BASE_URL = 'http://localhost:8080/api/v1'

// 推荐服务部署后的地址
const PROD_API_URL = 'https://your-domain.com/what-to-do-api/v1'</code>
      </div>

      <h4>5. 启动服务</h4>
      <div class="code-block">
        <code># 启动后端推荐服务
cd what-to-do-agent/backend
pip install -r requirements.txt
uvicorn app.main:app --host 0.0.0.0 --port 8080

# 前端开发模式
cd what-to-do-agent/frontend  
npm install
npm run dev</code>
      </div>
    </div>
  </div>

  <script>
    function setToken() {
      const tokenInput = document.getElementById('token');
      const statusDiv = document.getElementById('token-status');
      const token = tokenInput.value.trim();
      
      if (!token) {
        showStatus('请输入有效的token', 'error');
        return;
      }
      
      // 保存token到localStorage
      localStorage.setItem('zishu_token', token);
      showStatus('Token设置成功！推荐组件将使用此token获取数据', 'success');
      
      // 这里可以触发推荐组件重新加载
      console.log('Token已设置:', token);
    }
    
    function showStatus(message, type) {
      const statusDiv = document.getElementById('token-status');
      statusDiv.textContent = message;
      statusDiv.className = `status ${type}`;
      statusDiv.style.display = 'block';
      
      if (type === 'success') {
        setTimeout(() => {
          statusDiv.style.display = 'none';
        }, 3000);
      }
    }

    // 页面加载时检查是否已有token
    window.onload = function() {
      const existingToken = localStorage.getItem('zishu_token');
      if (existingToken) {
        document.getElementById('token').value = existingToken;
        showStatus('已检测到已保存的token', 'success');
      }
    };
  </script>
</body>
</html>